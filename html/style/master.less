// define general sizes
@wboard: 814px;
@hboard: 510px;
@wcard: 158px;
@hcard: 251px;
@margin: 4px;

// define various div's sizes
@wplayers: 60px;
@wdecks: @margin + @wcard;
@wplayer: @hcard;
@hevent: @margin * 2 + @hcard;

// calculate main div size
@wgame: @wplayers + @wdecks + @wboard + @wplayer;
@hgame: @hboard + @hevent;


.bg-fade(@col) { background-color: fade(@col, 25%); }

html {
    background: url('../images/bg.jpg') no-repeat center center fixed;
    background-size: cover;
}

#game {
    // fixed aspect ratio filling viewport
    width: 100vw;
    height: (@hgame / @wgame) * 100vw;
    max-width: (@wgame / @hgame) * 100vh;
    max-height: 100vh;
    // centered positioning
    margin: auto;
    position: absolute;
    top: 0; bottom: 0; left: 0; right: 0;
    // content
    display: flex;
    flex-direction: row;
}

img {
    display: block;
    width: 100%;
}

#players {
    .bg-fade(brown);
    width: percentage(@wplayers / @wgame);
}

#decks {
    // background-color: fade(red, 40%);
    width: percentage(@wdecks / @wgame);
    box-sizing: border-box;

    display: flex;
    flex-direction: column;

    .deck {
        .bg-fade(lightsalmon);
        width: percentage(@wcard / @wdecks);
        height: percentage(@hcard / @hgame);

        margin-left: percentage(@margin / @wdecks);
        margin-top: percentage(@margin / @hgame);
        &:last-child { margin-bottom: margin-top;}
    }
}

#player {
    .bg-fade(lightskyblue);
    width: percentage(@wplayer / @wgame);
    display: flex;
    flex-direction: column;
}

#center {
    width: percentage(@wboard / @wgame);
}

#board {
    position: relative;
}

#p1 {  // test pawn
    position: absolute;
    left: 24.2%;
    top: 32.6%;
    background-color: lime;
    width: percentage(40px/@wboard);
    height: percentage(40px/@hboard);
    border-radius: 20px;
    transform: translate(-50%, -50%);
}

#events {
    box-sizing: border-box;
    height: percentage(@hevent/@hgame);
    padding: percentage(@margin/@hgame) 0;
    display: flex;
    flex-direction: row;

    .eventspace {
        flex: auto;
        height: 100%;
        margin-left: percentage(@margin/@wboard);
        &:last-child { margin-right: percentage(@margin/@wboard); }
        width: percentage(@wcard/@wboard);
        min-height: 20px;
    }
}
